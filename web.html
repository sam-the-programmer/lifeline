<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Websocket Test</title>
</head>
<script lang="js">
    let socket = new WebSocket("ws://localhost:8000/ws");

    socket.onopen = function(e) {
        document.write("Connection established!<br>");
        socket.send("Hello from the client!");
    };

    socket.onmessage = function(event) {
        document.write(`Data received: ${event.data}<br>`);
    };

    socket.onclose = function(event) {
        if (event.wasClean) {
            document.write(`Connection closed cleanly, code=${event.code} reason=${event.reason}<br>`);
        } else {
            document.write('Connection died<br>');
        }
    };
</script>

</html>